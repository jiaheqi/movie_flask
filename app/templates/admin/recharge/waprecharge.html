<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <title>测试环境-安币拆分</title>
    <style type="text/css">
        input {
            width: 400px;
            color: #333;
            font-size: 14px;
            font-family: "微软雅黑";
        }

        .show {
            display: block;
        }

        .hide {
            display: none;
        }

        .f12 {
            font-size: 12px;
        }

        .f14 {
            font-size: 14px;
        }

        .titleCss {
            color: #8F4586;
        }

        .tailCss {
            color: #BF0060;
        }

        .importCss {
            color: red;
        }

        .inptext {
            width: 400px;
            color: #333;
            font-size: 14px;
            font-family: "微软雅黑";
            height: 100px;
        }

        body {
            color: #333;
            padding: 10px;
            margin: 0;
            font-size: 14px;
            font-family: "微软雅黑";
            background: #f1f1f1;
        }

        .l20 {
            padding-left: 20px;
        }

        .tdtitle {
            width: 120px;
        }
    </style>
    <script type="text/javascript">
        function changeForm(formName) {

            var className = document.getElementById(formName).className;
            if (className == "hide") {
                document.getElementById(formName).className = "show";
            } else {
                document.getElementById(formName).className = "hide";
            }
        }
    </script>
</head>
<body>
<font class="f14 tailCss">
    <br/>此测试页面用户测试混搭支付中在线支付部分，paycenter提供的三个接口测试，此页面为内部测试页面</font>
<ul class="f12">
    <li><a href="#pcrecharge">pc-充值接口</a></li>
    <li><a href="#waprecharge">移动端-充值接口</a></li>
    <li><a href="#apppay">移动端-创建支付订单</a>(手机app测试)</li>
    <!--<li><a href="#apprecharge">移动端-创建充值订单</a>(手机app测试)</li>-->
    <li><a href="#appgetorder">移动端-查询订单</a>(手机app测试)</li>
</ul>
<div class="f14 tailCss">接入方id:</div>
<div class="f12 l20">充值：公司余额2001（14） 个人余额2002 （15）</div>
<div class="f12 l20">抢客券：公司现金2003（16） 个人现金2004（18）</div>
<div class="f12 120">
	<p>
merid	transtype	mer_name	 </br>
1110	0	黄页代驾</br>
1051	1	宠物网邻通竞价</br>
1022	2	在线简历下载按使用摊销</br>
32001	6	58招聘推广币测试</br>
32006	7	房产limeng</br>
32007	8	二手limeng</br>
32003	9	58汽车推广币测试</br>
32009	10	黄页</br>
3996	25	赶集余额消耗摊销 </br>
3997	25	赶集余额普通摊销 </br>
3998	26	赶集推广余额非cpc</br>
3999	26	赶集推广余额cpc</br>
22762	13	安居客交易宝</br>
2100	20	安居客现金</br>
2024	20	安居客现金</br>
2006	14	公司安币，非增值类</br>
2007	14	公司安币，增值类</br>
2002	15	个人安币，非增值类</br>
2103	15	个人安币，增值类</br>
	</p>
</div>

----------------------------------------------
<hr>
<h4 id="pcrecharge">单人-充值接口</h4>
<form action="http://paycenter.58.com/wap/recharge" method="GET" target='_blank' id="rechargeForm">
    <table>
    	<tr>
            <td class="tdtitle">平台(mobile：mobile, pc:不传或传其他)</td>
            <td><input type="text" name="source" id="source" value="mobile"></td>
        </tr>
        
        
        <tr>
            <td class="tdtitle">来源</td>
            <td><input type="text" name="payFrom" id="payFrom" value="1"></td>
        </tr>
        <tr>
            <td class="tdtitle">充值订单号</td>
            <td><input type="text" name="orderId" id="orderId" value="wtest201901"></td>
        </tr>
        <tr>
            <td class="tdtitle">充值用户id</td>
            <td><input type="text" name="userId" id="recharge_buyAccountId" value="76322659039249">51993901102093,1910446869
            </td>
        </tr>
        <tr>
            <td class="tdtitle">账户类型</td>
            <td><input type="text" name="accountType" id="accountType" value="7">
            </td>
        </tr>
        <tr>
            <td class="tdtitle">充值金额</td>
            <td><input type="text" name="orderMoney" id="recharge_orderMoney" value="0.01"></td>
        </tr>
        <tr>
            <td class="tdtitle">商品名称</td>
            <td><input type="text" name="productName" value="在线充值测试"></td>
        </tr>
        <tr>
            <td class="tdtitle">商品描述</td>
            <td><input type="text" name="productDesc" value="在线充值测试"></td>
        </tr>
        <tr>
            <td class="tdtitle">充值完成跳转地址</td>
            <td><input type="text" name="redirectUrl" value="http://paycenter.58.com/group/rechargeSuccess"></td>
        </tr>
        <tr>
            <td class="tdtitle">productUrl</td>
            <td><input type="text" name="productUrl" value="http://paycenter.58.com"></td>
        </tr>
        
        <tr>
            <td class="tdtitle">同步通知地址</td>
            <td><input type="text" name="returnUrl" id="recharge_returnUrl" value="http://paycenter.58.com"></td>
        </tr>
        <tr>
            <td class="tdtitle">异步通知地址</td>
            <td><input type="text" name="notifyUrl" id="recharge_notifyUrl" value="http://paycenter.58.com"></td>
        </tr>
        <tr>
            <td class="tdtitle">showUrl</td>
            <td><input type="text" name="showUrl" id="recharge_showUrl" value="http://paycenter.58.com"></td>
        </tr>
        
        <tr>
            <td class="tdtitle">合同号</td>
            <td><input type="text" name="contractNo" id="recharge_contractNo" value="testco-002"></td>
        </tr>
        <tr>
            <td class="tdtitle">商户ID</td>
            <td><input type="text" name="merId" id="recharge_merId" value="32006">
                <font class='importCss'>2001,12303,2101|2001(AJK),1004(WB),3001(GJ) </font></td>
        </tr>

        <tr>
            <td class="tdtitle">金额只读</td>
            <td><input type="text" name="moneyRead" value="1"> <font class='importCss'> </font></td>
        </tr>
        <tr>
            <td class="tdtitle">校验码</td>
            <td><input type="text" name="sign" id="recharge_sign" value="syh">
            </td>
            <td><a href="javascript:void(0)" onClick="getRechargeSign()">计算sign</a></td>
        </tr>
        <tr>
            <td class="tdtitle">城市id</td>
            <td><input type="text" id="cityId" name="cityId" value="1"></td>
        </tr>
        <tr>
            <td class="tdtitle">优惠金额</td>
            <td><input type="text" id="giftMoney" name="giftMoney" value="0.01"></td>
        </tr>
        <tr>
            <td class="tdtitle">优惠有效期</td>
            <td><input type="text" id="expiryDate" name="expiryDate" value="2019-12-12"></td>
        </tr>
      
        <tr>
            <td class="tdtitle">财务公司</td>
            <td><input type="text" id="financeCo" name="financeCo" value="fco_001"></td>
        </tr>
        
        <tr>
            <td class="tdtitle">现金有效期</td>
            <td><input type="text" id="cashExpiryDate" name="cashExpiryDate" value="2025-12-12"></td>
        </tr>
				<tr>
            <td class="tdtitle">时间戳</td>
            <td><input type="text" id="timeStamp" name="timeStamp" value="11111">
        </tr>
        <tr>
            <td class="tdtitle">随机串</td>
            <td><input type="text" id="nonceStr" name="nonceStr" value="11111"></td>
        </tr>

        <tr>
            <td class="tdtitle">basesign</td>
            <td><input type="text" name="baseSign" id="baseSign" value="syh">
            </td>
            <td><a href="javascript:void(0)" onClick="getNonceStr()">计算basesign</a></td>
        </tr>

        <tr>

            <td colspan="2"><input type="submit" name="submsts" value="提交测试"></td>
        </tr>
    </table>
</form>

<hr>


</body>
<script language="javascript">

    var merKey = "338f72f868ba82a37cdb95166cf1fcf3";//在pay中的merInfo表中，置顶，团购，单充值，代理商充值，vip充值
	
		
  function dealMerKey(merid) {
        if (merid == '2001') {
            merKey = "98fe0277b215b12bb480160ffd27213d";
        } else if (merid == '2002') {
            merKey = "9cc59cfee2f4b3316e6e4c6f77edaa2c";
        } else if (merid == '2003') {
            merKey = "c056f56ccb513f70d2a396edb4516aca";
        } else if (merid == '2004') {//
            merKey = "37840938c25b68137b751ba0d8217988";
        } else if (merid == '12303') {//
            merKey = "7facace5cfdd673e19912c565b3e226d";
        } else if (merid == '2100') {//安居客现现金
            merKey = "e6b1d20536fb22968fdedf85ee5b4248";
        }else if (merid == '2114') {//
            merKey = "7fed56bd120a251c00a8ab927773f47e";
        }else if (merid == '2115') {//
            merKey = "b042bf2b9b17fa844d7cd4f94d2b58a6";
        }else if (merid == '1004') {//
            merKey = "705f36895c3f98eed55b556d626f186b";
        }else if (merid == '3999') {//赶集推广余额cpc
            merKey = "9f50dde1bedc80be605fd3612185b51d";
        }else if (merid == '3996') {//赶集余额消耗摊销 
            merKey = "1eaa4f8e77439bcaf99d3ab653d79b84";
        }else if (merid == '3997') {//赶集余额普通摊销 
            merKey = "9ae63d3f2aed408ebed9e29a7f7bd7bc";
        }else if (merid == '3998') {//赶集推广余额非cpc
            merKey = "c8862fc1a32725712838863fb1a260a9";
        }else if(merid=='1001'){//黄页代驾
			merKey='338f72f868ba82a37cdb95166cf1fcf3';
		}else if(merid=='1051'){//宠物网邻通竞价
			merKey='127d8eba89149a7aa241eea19d8fcfee';
		}else if(merid=='1022'){//在线简历下载按使用摊销
			merKey='bf75e27f8a8222a17c5638430c2605a8';			
        }else if(merid=='32001'){//58招聘推广币
			merKey='a62a7951c1df8f8f546cdeed33ae84e0';
		 }else if(merid=='32009'){//黄页
			merKey='bed53c689625414f76818d068d1741d7';
		 }else if(merid=='32006'){//房产limeng
			merKey='88a04f1a4cece7a8707cfe550155a44f';
		 }else if(merid=='32007'){//二手limeng
			merKey='446929ad0fe15120be5c68dade86206c';
		 }else if(merid=='32003'){//58汽车推广币测试
			merKey='e94a3a523c7a2b68418ae05d00cfd2cf';
		  }else if(merid=='22762'){//58汽车推广币测试
			merKey='4612cbf8eeb38ee522792bf6ff983f15';
		 }
		 
		 		  if(merid=='1110') {//交易宝
			merKey = '4c9c2a7654585dca9918b15226880ac7';
		 }
		 
		 		 		 //白名单现金
		  if(merid=='1043'){
			merKey='e9deb9ab4f4c335a7fb93474e5379da0';
		 }
		
		//白名单交易宝
		  if(merid=='1259'){
			merKey='658e18225538dd37e73670d29a6aebb4';
		 }
		 
		 		 //白名单房产推广币
		  if(merid=='1587'){
			merKey='a65e8c384b9436ebd2dd32f761c56577';
		 }
		 
		 //白名单跨线merid: 1042（现金），1302（通用）
		  if(merid=='1042'){
			merKey='901042894a3cf15fb3f17fa48c01fa64';
		 }
		  if(merid=='1302'){
			merKey='59a48ce8a67d80ff47fe277a501263b4';
		 }
		 
		 		 else if(merid=='21000'){//房产现金
			merKey='ea096cc8d499d55679882b974f84614b';
		 }
		 
		 else if(merid=='21003'){//房产交易宝
			merKey='6a096cc8d499d556798821974f84614b';
		 }
		 
		 else if(merid=='21004'){//房产现金
			merKey='7a096cc8d499d556798822974f84614b';
		 }
		 
		 else if(merid=='21005'){//房产推广币
			merKey='8a096cc8d499d556798823974f84614b';
		 }
		 
		 else if(merid=='21006'){//房产交易宝
			merKey='6a096cc8d499d556798821974f84614b';
		 }
		 
		 else if(merid=='21007'){//房产现金
			merKey='7a096cc8d499d556798822974f84614b';
		 }
		 
		 else if(merid=='21008'){//房产推广币
			merKey='8a096cc8d499d556798823974f84614b';
		 }
        return merKey;
    }

    function getRechargeSign() {
        var buyAccountId = document.getElementById("recharge_buyAccountId").value;
        var merId = document.getElementById("recharge_merId").value;
        var returnUrl = document.getElementById("recharge_returnUrl").value;
        //var channelId=document.getElementById("recharge_channelId").value;
        var notifyUrl = document.getElementById("recharge_notifyUrl").value;
        var orderMoney = document.getElementById("recharge_orderMoney").value;
        var orderId = document.getElementById("orderId").value;
        var giftMoney = document.getElementById("giftMoney").value;
        var expiryDate = document.getElementById("expiryDate").value;
        var cashExpiryDate = document.getElementById("cashExpiryDate").value;
        
        var rechargeContractNo = document.getElementById("recharge_contractNo").value;//合同号

        var sign = merId + buyAccountId + orderId + orderMoney;//+channelId
        var giftData = "";
        if (giftMoney != '') {
            giftData = "{@giftMoney@:@" + giftMoney + "@,@expiryDate@:@" + expiryDate + "@}"
            sign = sign + giftMoney + expiryDate;
        }
        if (cashExpiryDate != '') {
            sign = sign + cashExpiryDate;
        }
        dealMerKey(merId);
        sign = sign + merKey;
        //商户 ID+充值用户 ID+业务订单号+充值金额+支付通道+商户 key 通过 MD5 加密后的数据
        document.getElementById("recharge_sign").value = hex_md5(sign);
        
        

        //新增获取userSign并拼装到extentsionInfo中
        var cityId = document.getElementById("cityId").value;

        var userSignStr = "buyAccountId=" + buyAccountId + "&merId=" + merId + "&cityId=" + cityId + merKey;

        userSignStr = hex_md5(userSignStr);

        var extensionInfoStr = "{@cityId@:@" + cityId + "@,@userSign@:@" + userSignStr + "@,@rechargeExtend@:{@financeCo@:@fi-001@,@contractNo@:@" + rechargeContractNo + "@}";
        if (giftData != '') {
            extensionInfoStr += ",@giftData@:" + giftData;
        }
        extensionInfoStr += "}";
        //document.getElementById("extensionInfo").value = extensionInfoStr;
    }


    function addZero(money) {
        var money_ = money;
        if (checkNumberInteger(money)) {
            money_ = money + '.00';
        } else if (checkNumberPointerOne(money)) {
            money_ = money + '0';
        }
        return money_;
    }

    function checkNumberInteger(money) {

        var re = /^[1-9]{1}([0-9]*)$/; // 注意g将全文匹配，不加将永远只返回第一个匹配。
        var arr;
        while ((arr = re.exec(money)) != null) {
            return true;
        }
        return false;
    }

    function checkNumberPointerOne(money) {
        var re = /^[1-9]*([0-9]*)(.{1}[0-9]{1})$/; // 注意g将全文匹配，不加将永远只返回第一个匹配。
        var arr;
        while ((arr = re.exec(money)) != null) {
            return true;
        }
        return false;
    }
</script>


<script language="javascript">
    var hexcase = 0;
    
    
    function hex_md5(a) {
        if (a == "") return a;
        return rstr2hex(rstr_md5(str2rstr_utf8(a)))
    }
    function hex_hmac_md5(a, b) {
        return rstr2hex(rstr_hmac_md5(str2rstr_utf8(a), str2rstr_utf8(b)))
    }
    function md5_vm_test() {
        return hex_md5("abc").toLowerCase() == "900150983cd24fb0d6963f7d28e17f72"
    }
    function rstr_md5(a) {
        return binl2rstr(binl_md5(rstr2binl(a), a.length * 8))
    }
    function rstr_hmac_md5(c, f) {
        var e = rstr2binl(c);
        if (e.length > 16) {
            e = binl_md5(e, c.length * 8)
        }
        var a = Array(16), d = Array(16);
        for (var b = 0; b < 16; b++) {
            a[b] = e[b] ^ 909522486;
            d[b] = e[b] ^ 1549556828
        }
        var g = binl_md5(a.concat(rstr2binl(f)), 512 + f.length * 8);
        return binl2rstr(binl_md5(d.concat(g), 512 + 128))
    }
    function rstr2hex(c) {
        try {
            hexcase
        } catch (g) {
            hexcase = 0
        }
        var f = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
        var b = "";
        var a;
        for (var d = 0; d < c.length; d++) {
            a = c.charCodeAt(d);
            b += f.charAt((a >>> 4) & 15) + f.charAt(a & 15)
        }
        return b
    }
    function str2rstr_utf8(c) {
        var b = "";
        var d = -1;
        var a, e;
        while (++d < c.length) {
            a = c.charCodeAt(d);
            e = d + 1 < c.length ? c.charCodeAt(d + 1) : 0;
            if (55296 <= a && a <= 56319 && 56320 <= e && e <= 57343) {
                a = 65536 + ((a & 1023) << 10) + (e & 1023);
                d++
            }
            if (a <= 127) {
                b += String.fromCharCode(a)
            } else {
                if (a <= 2047) {
                    b += String.fromCharCode(192 | ((a >>> 6) & 31), 128 | (a & 63))
                } else {
                    if (a <= 65535) {
                        b += String.fromCharCode(224 | ((a >>> 12) & 15), 128 | ((a >>> 6) & 63), 128 | (a & 63))
                    } else {
                        if (a <= 2097151) {
                            b += String.fromCharCode(240 | ((a >>> 18) & 7), 128 | ((a >>> 12) & 63), 128 | ((a >>> 6) & 63), 128 | (a & 63))
                        }
                    }
                }
            }
        }
        return b
    }
    function rstr2binl(b) {
        var a = Array(b.length >> 2);
        for (var c = 0; c < a.length; c++) {
            a[c] = 0
        }
        for (var c = 0; c < b.length * 8; c += 8) {
            a[c >> 5] |= (b.charCodeAt(c / 8) & 255) << (c % 32)
        }
        return a
    }
    function binl2rstr(b) {
        var a = "";
        for (var c = 0; c < b.length * 32; c += 8) {
            a += String.fromCharCode((b[c >> 5] >>> (c % 32)) & 255)
        }
        return a
    }
    function binl_md5(p, k) {
        p[k >> 5] |= 128 << ((k) % 32);
        p[(((k + 64) >>> 9) << 4) + 14] = k;
        var o = 1732584193;
        var n = -271733879;
        var m = -1732584194;
        var l = 271733878;
        for (var g = 0; g < p.length; g += 16) {
            var j = o;
            var h = n;
            var f = m;
            var e = l;
            o = md5_ff(o, n, m, l, p[g + 0], 7, -680876936);
            l = md5_ff(l, o, n, m, p[g + 1], 12, -389564586);
            m = md5_ff(m, l, o, n, p[g + 2], 17, 606105819);
            n = md5_ff(n, m, l, o, p[g + 3], 22, -1044525330);
            o = md5_ff(o, n, m, l, p[g + 4], 7, -176418897);
            l = md5_ff(l, o, n, m, p[g + 5], 12, 1200080426);
            m = md5_ff(m, l, o, n, p[g + 6], 17, -1473231341);
            n = md5_ff(n, m, l, o, p[g + 7], 22, -45705983);
            o = md5_ff(o, n, m, l, p[g + 8], 7, 1770035416);
            l = md5_ff(l, o, n, m, p[g + 9], 12, -1958414417);
            m = md5_ff(m, l, o, n, p[g + 10], 17, -42063);
            n = md5_ff(n, m, l, o, p[g + 11], 22, -1990404162);
            o = md5_ff(o, n, m, l, p[g + 12], 7, 1804603682);
            l = md5_ff(l, o, n, m, p[g + 13], 12, -40341101);
            m = md5_ff(m, l, o, n, p[g + 14], 17, -1502002290);
            n = md5_ff(n, m, l, o, p[g + 15], 22, 1236535329);
            o = md5_gg(o, n, m, l, p[g + 1], 5, -165796510);
            l = md5_gg(l, o, n, m, p[g + 6], 9, -1069501632);
            m = md5_gg(m, l, o, n, p[g + 11], 14, 643717713);
            n = md5_gg(n, m, l, o, p[g + 0], 20, -373897302);
            o = md5_gg(o, n, m, l, p[g + 5], 5, -701558691);
            l = md5_gg(l, o, n, m, p[g + 10], 9, 38016083);
            m = md5_gg(m, l, o, n, p[g + 15], 14, -660478335);
            n = md5_gg(n, m, l, o, p[g + 4], 20, -405537848);
            o = md5_gg(o, n, m, l, p[g + 9], 5, 568446438);
            l = md5_gg(l, o, n, m, p[g + 14], 9, -1019803690);
            m = md5_gg(m, l, o, n, p[g + 3], 14, -187363961);
            n = md5_gg(n, m, l, o, p[g + 8], 20, 1163531501);
            o = md5_gg(o, n, m, l, p[g + 13], 5, -1444681467);
            l = md5_gg(l, o, n, m, p[g + 2], 9, -51403784);
            m = md5_gg(m, l, o, n, p[g + 7], 14, 1735328473);
            n = md5_gg(n, m, l, o, p[g + 12], 20, -1926607734);
            o = md5_hh(o, n, m, l, p[g + 5], 4, -378558);
            l = md5_hh(l, o, n, m, p[g + 8], 11, -2022574463);
            m = md5_hh(m, l, o, n, p[g + 11], 16, 1839030562);
            n = md5_hh(n, m, l, o, p[g + 14], 23, -35309556);
            o = md5_hh(o, n, m, l, p[g + 1], 4, -1530992060);
            l = md5_hh(l, o, n, m, p[g + 4], 11, 1272893353);
            m = md5_hh(m, l, o, n, p[g + 7], 16, -155497632);
            n = md5_hh(n, m, l, o, p[g + 10], 23, -1094730640);
            o = md5_hh(o, n, m, l, p[g + 13], 4, 681279174);
            l = md5_hh(l, o, n, m, p[g + 0], 11, -358537222);
            m = md5_hh(m, l, o, n, p[g + 3], 16, -722521979);
            n = md5_hh(n, m, l, o, p[g + 6], 23, 76029189);
            o = md5_hh(o, n, m, l, p[g + 9], 4, -640364487);
            l = md5_hh(l, o, n, m, p[g + 12], 11, -421815835);
            m = md5_hh(m, l, o, n, p[g + 15], 16, 530742520);
            n = md5_hh(n, m, l, o, p[g + 2], 23, -995338651);
            o = md5_ii(o, n, m, l, p[g + 0], 6, -198630844);
            l = md5_ii(l, o, n, m, p[g + 7], 10, 1126891415);
            m = md5_ii(m, l, o, n, p[g + 14], 15, -1416354905);
            n = md5_ii(n, m, l, o, p[g + 5], 21, -57434055);
            o = md5_ii(o, n, m, l, p[g + 12], 6, 1700485571);
            l = md5_ii(l, o, n, m, p[g + 3], 10, -1894986606);
            m = md5_ii(m, l, o, n, p[g + 10], 15, -1051523);
            n = md5_ii(n, m, l, o, p[g + 1], 21, -2054922799);
            o = md5_ii(o, n, m, l, p[g + 8], 6, 1873313359);
            l = md5_ii(l, o, n, m, p[g + 15], 10, -30611744);
            m = md5_ii(m, l, o, n, p[g + 6], 15, -1560198380);
            n = md5_ii(n, m, l, o, p[g + 13], 21, 1309151649);
            o = md5_ii(o, n, m, l, p[g + 4], 6, -145523070);
            l = md5_ii(l, o, n, m, p[g + 11], 10, -1120210379);
            m = md5_ii(m, l, o, n, p[g + 2], 15, 718787259);
            n = md5_ii(n, m, l, o, p[g + 9], 21, -343485551);
            o = safe_add(o, j);
            n = safe_add(n, h);
            m = safe_add(m, f);
            l = safe_add(l, e)
        }
        return Array(o, n, m, l)
    }
    function md5_cmn(h, e, d, c, g, f) {
        return safe_add(bit_rol(safe_add(safe_add(e, h), safe_add(c, f)), g), d)
    }
    function md5_ff(g, f, k, j, e, i, h) {
        return md5_cmn((f & k) | ((~f) & j), g, f, e, i, h)
    }
    function md5_gg(g, f, k, j, e, i, h) {
        return md5_cmn((f & j) | (k & (~j)), g, f, e, i, h)
    }
    function md5_hh(g, f, k, j, e, i, h) {
        return md5_cmn(f ^ k ^ j, g, f, e, i, h)
    }
    function md5_ii(g, f, k, j, e, i, h) {
        return md5_cmn(k ^ (f | (~j)), g, f, e, i, h)
    }
    function safe_add(a, d) {
        var c = (a & 65535) + (d & 65535);
        var b = (a >> 16) + (d >> 16) + (c >> 16);
        return (b << 16) | (c & 65535)
    }
    function bit_rol(a, b) {
        return (a << b) | (a >>> (32 - b))
    };
    getNonceStr();
    function getNonceStr() {
			
			var d = new Date();

			RndNum();
			var nonceStr = document.getElementById("nonceStr").value;
        var merId = document.getElementById("recharge_merId").value;
        var userId = document.getElementById("recharge_buyAccountId").value;
        var timeStamp = document.getElementById("timeStamp").value;
        
        document.getElementById("baseSign").value = hex_md5("merId=" + merId + "&nonceStr=" + nonceStr + "&timeStamp=" + timeStamp + "&userId=" + userId + dealMerKey(merId));
alert("merId=" + merId + "&nonceStr=" + nonceStr + "&timeStamp=" + timeStamp + "&userId=" + userId + dealMerKey(merId))
		}
		RndNum();
		function RndNum(){
	    var rnd="";
	    for(var i=0;i<8;i++)
	        rnd+=Math.floor(Math.random()*10);

	}
	var nonceStr = document.getElementById("nonceStr").value;
        var merId = document.getElementById("recharge_merId").value;
        var userId = document.getElementById("recharge_buyAccountId").value;
        var timeStamp = document.getElementById("timeStamp").value;
        
        document.getElementById("baseSign").value = hex_md5("merId=" + merId + "&nonceStr=" + nonceStr + "&timeStamp=" + timeStamp + "&userId=" + userId + dealMerKey(merId));
//alert("merId=" + merId + "&nonceStr=" + nonceStr + "&timeStamp=" + timeStamp + "&userId=" + userId + dealMerKey(merId))

</script>
<script language="javascript">
    // 对Date的扩展，将 Date 转化为指定格式的String
    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
    // 例子：
    // (new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2006-07-02 08:09:04.423
    // (new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2006-7-2 8:9:4.18
    Date.prototype.Format = function (fmt) { //author: meizz
        var o = {
            "M+": this.getMonth() + 1,                 //月份
            "d+": this.getDate(),                    //日
            "h+": this.getHours(),                   //小时
            "m+": this.getMinutes(),                 //分
            "s+": this.getSeconds(),                 //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds()             //毫秒
        };
        if (/(y+)/.test(fmt))
            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    }
</script>


<script language="javascript">
    setStartAndEndTime();
    //初始化摊销的开始及结束时间
    function setStartAndEndTime() {
        var starttime = new Date().Format("yyyy-MM-dd 00:00:00");
        var endtime = new Date().Format("yyyy-MM-dd 23:59:59");
        document.getElementById("pay_starttime").value = starttime;
        document.getElementById("pay_endtime").value = endtime;

        var date = new Date();
        var orderId = date.getTime();
        document.getElementById("orderId").value = "test" + orderId + "0";
        document.getElementById("pay_orderId").value = "test" + orderId + "1";
        document.getElementById("recharge_contractNo").value = "contractNo_" + orderId;
        // document.getElementById("wap_orderId").value= "test"+orderId+"2";
        // document.getElementById("apprecharge_orderId").value= "test"+orderId+"1";
    }
</script>

</html>
